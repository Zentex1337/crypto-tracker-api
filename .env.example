# =============================================================================
# Crypto Tracker API - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3000
HOST=0.0.0.0
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
# Connection URL format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://crypto:crypto_secret@localhost:5432/crypto_tracker
DATABASE_POOL_SIZE=10

# Docker Compose database credentials
POSTGRES_USER=crypto
POSTGRES_PASSWORD=crypto_secret
POSTGRES_DB=crypto_tracker

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=redis_secret

# -----------------------------------------------------------------------------
# External APIs
# -----------------------------------------------------------------------------
# CoinGecko API (free tier available, API key optional but recommended)
COINGECKO_API_URL=https://api.coingecko.com/api/v3
COINGECKO_API_KEY=

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# Default rate limit for unauthenticated requests
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# -----------------------------------------------------------------------------
# Cache Configuration
# -----------------------------------------------------------------------------
# How long to cache price data (in seconds)
PRICE_CACHE_TTL_SECONDS=30

# -----------------------------------------------------------------------------
# Background Jobs
# -----------------------------------------------------------------------------
# How often to update prices (in milliseconds)
PRICE_UPDATE_INTERVAL_MS=10000

# -----------------------------------------------------------------------------
# WebSocket Configuration
# -----------------------------------------------------------------------------
# Heartbeat interval for WebSocket connections
WS_HEARTBEAT_INTERVAL_MS=30000
# Maximum WebSocket connections
WS_MAX_CONNECTIONS=1000

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
# Header name for API key authentication
API_KEY_HEADER=x-api-key
# CORS origin (use comma-separated values for multiple origins, or * for all)
CORS_ORIGIN=*

# -----------------------------------------------------------------------------
# Development Tools (optional, for docker-compose dev profile)
# -----------------------------------------------------------------------------
PGADMIN_EMAIL=admin@crypto-tracker.local
PGADMIN_PASSWORD=admin
